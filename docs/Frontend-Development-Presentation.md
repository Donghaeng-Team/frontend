# í•¨ê»˜ ì‚¬ìš” (ByTogether) í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê³¼ì •

> ìœ„ì¹˜ ê¸°ë°˜ ê³µë™êµ¬ë§¤ ë° ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì—¬ì •

**ë¶€íŠ¸ìº í”„ ìµœì¢… ë°œí‘œ ìë£Œ**

---

## ğŸ“‘ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜](#2-ê¸°ìˆ -ìŠ¤íƒ-ë°-ì•„í‚¤í…ì²˜)
3. [ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶• (Talk to Figma)](#3-ë””ìì¸-ì‹œìŠ¤í…œ-êµ¬ì¶•-talk-to-figma)
4. [í•µì‹¬ ê¸°ëŠ¥ ê°œë°œ](#4-í•µì‹¬-ê¸°ëŠ¥-ê°œë°œ)
5. [ìƒíƒœ ê´€ë¦¬ ë° API í†µí•©](#5-ìƒíƒœ-ê´€ë¦¬-ë°-api-í†µí•©)
6. [ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œ](#6-ì‹¤ì‹œê°„-ì±„íŒ…-ì‹œìŠ¤í…œ)
7. [ë°˜ì‘í˜• UI/UX ìµœì í™”](#7-ë°˜ì‘í˜•-uiux-ìµœì í™”)
8. [í…ŒìŠ¤íŠ¸ ìë™í™” ì „ëµ](#8-í…ŒìŠ¤íŠ¸-ìë™í™”-ì „ëµ)
9. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë° ì„±ê³¼](#9-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…-ë°-ì„±ê³¼)
10. [í–¥í›„ ê°œì„  ë°©í–¥](#10-í–¥í›„-ê°œì„ -ë°©í–¥)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ì†Œê°œ

**í•¨ê»˜ ì‚¬ìš” (ByTogether)**ëŠ” ì§€ì—­ ê¸°ë°˜ ê³µë™êµ¬ë§¤ì™€ ì»¤ë®¤ë‹ˆí‹°ë¥¼ í†µí•©í•œ ì›¹ í”Œë«í¼ì…ë‹ˆë‹¤.

**í•µì‹¬ ê°€ì¹˜**
- ğŸ˜ï¸ **ìœ„ì¹˜ ê¸°ë°˜ ë§¤ì¹­**: ê°™ì€ ë™ë„¤ ì£¼ë¯¼ë“¤ê³¼ í•¨ê»˜ êµ¬ë§¤
- ğŸ’° **í•©ë¦¬ì  ì†Œë¹„**: ê³µë™êµ¬ë§¤ë¡œ ë” ì €ë ´í•˜ê²Œ
- ğŸ’¬ **ì»¤ë®¤ë‹ˆí‹°**: ì´ì›ƒê³¼ ì†Œí†µí•˜ê³  ì •ë³´ ê³µìœ 
- ğŸ“± **ì‹¤ì‹œê°„ ì±„íŒ…**: ì¦‰ê°ì ì¸ ì˜ì‚¬ì†Œí†µ

### 1.2 ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ê³µë™êµ¬ë§¤ | ìƒí’ˆ ë“±ë¡/ìˆ˜ì •, ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰, ì¹´í…Œê³ ë¦¬ í•„í„°ë§ |
| ì»¤ë®¤ë‹ˆí‹° | ê²Œì‹œê¸€ ì‘ì„±, ëŒ“ê¸€/ëŒ€ëŒ“ê¸€, ì´ë¯¸ì§€ ì—…ë¡œë“œ |
| ì‹¤ì‹œê°„ ì±„íŒ… | WebSocket ê¸°ë°˜ ì±„íŒ…ë°©, ì°¸ì—¬ì ê´€ë¦¬ |
| ë§ˆì´í˜ì´ì§€ | í”„ë¡œí•„ ê´€ë¦¬, êµ¬ë§¤/íŒë§¤ ë‚´ì—­, ì°œ ëª©ë¡ |
| ì¸ì¦/ì¸ê°€ | ì´ë©”ì¼/OAuth ë¡œê·¸ì¸, JWT ê¸°ë°˜ ì¸ì¦ |

### 1.3 ê°œë°œ ê¸°ê°„ ë° íŒ€ êµ¬ì„±

- **ê°œë°œ ê¸°ê°„**: 2024ë…„ 9ì›” ~ 10ì›” (ì•½ 6ì£¼)
- **íŒ€ êµ¬ì„±**: í”„ë¡ íŠ¸ì—”ë“œ 1ëª… + ë°±ì—”ë“œ 4ëª…
- **í˜‘ì—… ë„êµ¬**: GitHub, Figma, Notion, Slack

---

## 2. ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜

### 2.1 ê¸°ìˆ  ìŠ¤íƒ

#### Core Technologies
```
React 19.1.1          - ìµœì‹  React ê¸°ëŠ¥ í™œìš© (use hook, Server Components ì¤€ë¹„)
TypeScript 5.8.3      - íƒ€ì… ì•ˆì •ì„± ë° ê°œë°œ ìƒì‚°ì„±
Vite 7.1.7            - ì´ˆê³ ì† ë¹Œë“œ ë° HMR
```

#### State & Routing
```
Zustand 5.0.8         - ê²½ëŸ‰ ìƒíƒœ ê´€ë¦¬ (authStore, locationStore, chatStore)
React Router 7.9.1    - í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ…
```

#### API & Real-time
```
Axios 1.12.2          - HTTP í´ë¼ì´ì–¸íŠ¸ ë° ì¸í„°ì…‰í„°
@stomp/stompjs 7.2.1  - WebSocket STOMP í”„ë¡œí† ì½œ
SockJS Client 1.6.1   - WebSocket í´ë°± ì§€ì›
```

#### Maps & Location
```
@vis.gl/react-google-maps 1.5.5  - Google Maps React ì»´í¬ë„ŒíŠ¸
```

### 2.2 ì•„í‚¤í…ì²˜ ì„¤ê³„

#### ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
src/
â”œâ”€â”€ api/              # API ë ˆì´ì–´
â”‚   â”œâ”€â”€ client.ts     # Axios ì¸ìŠ¤í„´ìŠ¤ (ì¸í„°ì…‰í„°, ì—ëŸ¬ í•¸ë“¤ë§)
â”‚   â””â”€â”€ services/     # ë„ë©”ì¸ë³„ API ì„œë¹„ìŠ¤
â”œâ”€â”€ components/       # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ Button/
â”‚   â”œâ”€â”€ Card/
â”‚   â”œâ”€â”€ Modal/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ pages/            # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ stores/           # Zustand ìƒíƒœ ê´€ë¦¬
â”œâ”€â”€ types/            # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ utils/            # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ styles/           # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
```

#### ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Presentation Layer          â”‚  React Components
â”‚  (Pages, Components, Hooks)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         State Management            â”‚  Zustand Stores
â”‚  (authStore, locationStore, etc.)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         API Service Layer           â”‚  Axios Services
â”‚  (auth, market, chat, community)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Network Layer               â”‚  Axios Instance
â”‚  (Interceptors, Error Handling)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 ê°œë°œ í™˜ê²½ ì„¤ì •

#### Vite ì„¤ì • (`vite.config.ts`)
```typescript
export default defineConfig({
  plugins: [react()],
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8080',  // API Gateway
        changeOrigin: true
      }
    }
  }
})
```

#### TypeScript ì„¤ì •
- Strict ëª¨ë“œ í™œì„±í™”
- Path alias ì„¤ì • (`@/`)
- ì—„ê²©í•œ íƒ€ì… ì²´í¬

---

## 3. ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶• (Talk to Figma)

### 3.1 Figmaë¥¼ í™œìš©í•œ ë””ìì¸ ì‹œìŠ¤í…œ

**Talk to Figma ê¸°ëŠ¥ í™œìš©**
- Figma ë””ìì¸ì„ ê¸°ë°˜ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ìƒì„±
- ë””ìì¸ í† í° ì¶”ì¶œ (ìƒ‰ìƒ, íƒ€ì´í¬ê·¸ë˜í”¼, ê°„ê²©)
- ì¼ê´€ëœ UI/UX êµ¬í˜„

### 3.2 ì»¬ëŸ¬ ì‹œìŠ¤í…œ

**ìƒ‰ìƒ íŒ”ë ˆíŠ¸** (`src/styles/colors.css`)
```css
:root {
  /* Primary Colors */
  --primary-500: #FF6B35;      /* ë©”ì¸ ì˜¤ë Œì§€ */
  --primary-600: #E55A2B;

  /* Secondary Colors */
  --secondary-500: #3399FF;    /* íŒŒë€ìƒ‰ (ë²„íŠ¼, ë§í¬) */

  /* Neutral Colors */
  --gray-50: #F9FAFB;
  --gray-100: #F3F4F6;
  --gray-200: #E5E7EB;
  --gray-900: #111827;

  /* Semantic Colors */
  --success: #10B981;
  --warning: #F59E0B;
  --error: #EF4444;
}
```

### 3.3 ê¸°ë³¸ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ

#### ê°œë°œëœ ì»´í¬ë„ŒíŠ¸ (ì´ 30+ê°œ)

**Form & Input**
- `Input` - í…ìŠ¤íŠ¸ ì…ë ¥
- `FormField` - ë ˆì´ë¸” + ì…ë ¥ í•„ë“œ
- `SearchBar` - ê²€ìƒ‰ ì…ë ¥
- `Checkbox` - ì²´í¬ë°•ìŠ¤
- `ToggleSwitch` - í† ê¸€ ìŠ¤ìœ„ì¹˜
- `DatePicker` - ë‚ ì§œ ì„ íƒ
- `TimePicker` - ì‹œê°„ ì„ íƒ

**Display & Feedback**
- `Button` - ë‹¤ì–‘í•œ variant (primary, secondary, outline)
- `Badge` - ìƒíƒœ í‘œì‹œ
- `Avatar` - ì‚¬ìš©ì í”„ë¡œí•„ ì´ë¯¸ì§€
- `Card` - ì½˜í…ì¸  ì¹´ë“œ
- `Toast` - ì•Œë¦¼ ë©”ì‹œì§€
- `Modal` - ëª¨ë‹¬ ë‹¤ì´ì–¼ë¡œê·¸
- `Skeleton` - ë¡œë”© í”Œë ˆì´ìŠ¤í™€ë”
- `Progress` - ì§„í–‰ ìƒíƒœ í‘œì‹œ

**Navigation**
- `Header` - ë°ìŠ¤í¬í†± í—¤ë”
- `MobileHeader` - ëª¨ë°”ì¼ í—¤ë”
- `Footer` - í‘¸í„°
- `BottomNav` - ëª¨ë°”ì¼ í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
- `Tab` - íƒ­ ë„¤ë¹„ê²Œì´ì…˜
- `Breadcrumb` - ê²½ë¡œ í‘œì‹œ
- `Pagination` - í˜ì´ì§€ë„¤ì´ì…˜

**Advanced**
- `Dropdown` - ë“œë¡­ë‹¤ìš´ ë©”ë‰´
- `Accordion` - ì•„ì½”ë””ì–¸
- `Slider` - ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë”
- `Rating` - ë³„ì 
- `Tooltip` - íˆ´íŒ
- `Divider` - êµ¬ë¶„ì„ 
- `Comment` - ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸
- `FloatingActionButton` - FAB ë²„íŠ¼

**Domain-Specific**
- `CategoryFilter` - ì¹´í…Œê³ ë¦¬ í•„í„°
- `CategorySelector` - ì¹´í…Œê³ ë¦¬ ì„ íƒ
- `GoogleMap` - ì§€ë„ ì»´í¬ë„ŒíŠ¸
- `LocationModal` - ìœ„ì¹˜ ì„ íƒ ëª¨ë‹¬
- `ChatRoom` - ì±„íŒ…ë°© ì»´í¬ë„ŒíŠ¸
- `ChatModal` - ì±„íŒ… ëª¨ë‹¬

### 3.4 ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì›ì¹™

**ì¬ì‚¬ìš©ì„±**
```typescript
// Props ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ í™•ì¥ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
interface ButtonProps {
  variant?: 'primary' | 'secondary' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  onClick?: () => void;
  children: React.ReactNode;
}
```

**ì¡°í•© ê°€ëŠ¥ì„±**
```typescript
// ì‘ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°í•©í•˜ì—¬ ë³µì¡í•œ UI êµ¬ì„±
<FormField label="ì´ë©”ì¼">
  <Input type="email" placeholder="example@email.com" />
</FormField>
```

**íƒ€ì… ì•ˆì •ì„±**
```typescript
// TypeScriptë¡œ props íƒ€ì… ê°•ì œ
type CardVariant = 'product' | 'community' | 'chat';

interface CardProps {
  variant: CardVariant;
  data: ProductData | CommunityData | ChatData;
}
```

---

## 4. í•µì‹¬ ê¸°ëŠ¥ ê°œë°œ

### 4.1 ì¸ì¦ ì‹œìŠ¤í…œ

#### 4.1.1 ì´ë©”ì¼ ë¡œê·¸ì¸/íšŒì›ê°€ì…

**êµ¬í˜„ ì‚¬í•­**
- ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜ íšŒì›ê°€ì…
- ì…ë ¥ ê²€ì¦ (ì´ë©”ì¼ í˜•ì‹, ë¹„ë°€ë²ˆí˜¸ ê°•ë„)
- ì¤‘ë³µ ì²´í¬ (ì´ë©”ì¼, ë‹‰ë„¤ì„)
- JWT í† í° ê¸°ë°˜ ì¸ì¦

**ì½”ë“œ ì˜ˆì‹œ** (`src/api/services/auth.ts`)
```typescript
export const authService = {
  // ë¡œê·¸ì¸
  async login(email: string, password: string) {
    const response = await apiClient.post('/api/v1/auth/login', {
      email,
      password
    });
    return response.data;
  },

  // íšŒì›ê°€ì…
  async register(data: RegisterRequest) {
    const response = await apiClient.post('/api/v1/auth/register', data);
    return response.data;
  }
};
```

#### 4.1.2 OAuth 2.0 ì†Œì…œ ë¡œê·¸ì¸

**ì§€ì› í”Œë«í¼**
- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸
- êµ¬ê¸€ ë¡œê·¸ì¸

**OAuth í”Œë¡œìš°**
```typescript
// OAuth ì½œë°± ì²˜ë¦¬
const handleOAuthCallback = async () => {
  const params = new URLSearchParams(location.search);
  const token = params.get('token');

  if (token) {
    // JWT í† í° ë””ì½”ë”©í•˜ì—¬ userId ì¶”ì¶œ
    const decoded = jwtDecode<JWTPayload>(token);
    const userId = decoded.sub || decoded.userId;

    // ì¸ì¦ ìƒíƒœ ì—…ë°ì´íŠ¸
    login({
      userId: parseInt(userId),
      email: decoded.email,
      nickName: decoded.nickname,
      profileImage: decoded.profileImage
    }, token);
  }
};
```

**íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**
- **ë¬¸ì œ**: OAuth ì½œë°± í›„ userIdê°€ undefined
- **ì›ì¸**: JWT í† í°ì—ì„œ userId ì¶”ì¶œ ì‹¤íŒ¨
- **í•´ê²°**: JWT ë””ì½”ë”© ë¡œì§ ì¶”ê°€ ë° sub í•„ë“œ í™œìš©
- **ì»¤ë°‹**: `18d42e1` OAuth ì½œë°±ì—ì„œ JWT í† í°ìœ¼ë¡œë¶€í„° userId ì¶”ì¶œ ë° ì €ì¥

#### 4.1.3 JWT í† í° ê´€ë¦¬

**Axios ì¸í„°ì…‰í„°** (`src/api/client.ts`)
```typescript
// ìš”ì²­ ì¸í„°ì…‰í„°: í† í° ìë™ ì¶”ê°€
apiClient.interceptors.request.use((config) => {
  const token = getAccessToken();
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }

  // X-User-Id í—¤ë” ì¶”ê°€ (ë°±ì—”ë“œ ìš”êµ¬ì‚¬í•­)
  const user = useAuthStore.getState().user;
  if (user?.userId) {
    config.headers['X-User-Id'] = user.userId.toString();
  }

  return config;
});

// ì‘ë‹µ ì¸í„°ì…‰í„°: í† í° ê°±ì‹ 
apiClient.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401) {
      // í† í° ë§Œë£Œ ì‹œ ìë™ ê°±ì‹  ë¡œì§
      const newToken = await refreshToken();
      error.config.headers.Authorization = `Bearer ${newToken}`;
      return apiClient.request(error.config);
    }
    return Promise.reject(error);
  }
);
```

### 4.2 ê³µë™êµ¬ë§¤ ê¸°ëŠ¥

#### 4.2.1 ìƒí’ˆ ëª©ë¡ ë° ê²€ìƒ‰

**ê¸°ëŠ¥**
- ìœ„ì¹˜ ê¸°ë°˜ ìƒí’ˆ í•„í„°ë§
- ì¹´í…Œê³ ë¦¬ë³„ íƒìƒ‰
- ì •ë ¬ ì˜µì…˜ (ìµœì‹ ìˆœ, ë§ˆê°ì„ë°•ìˆœ, ì €ê°€ìˆœ, ì¡°íšŒìˆ˜ìˆœ)
- ë¬´í•œ ìŠ¤í¬ë¡¤ (í˜ì´ì§€ë„¤ì´ì…˜)

**êµ¬í˜„** (`src/pages/ProductList/ProductList.tsx`)
```typescript
const [filters, setFilters] = useState({
  divisionId: currentDivision?.divisionId || '',
  categoryId: '',
  status: 'RECRUITING' as MarketStatus,
  sort: 'LATEST' as MarketSortType,
  pageNum: 0,
  pageSize: 20
});

const fetchProducts = async () => {
  const response = await marketService.getMarkets({
    ...filters,
    depth: 2  // ìë©´ë™ ë ˆë²¨
  });
  setProducts(response.markets);
};
```

#### 4.2.2 ìƒí’ˆ ìƒì„¸ í˜ì´ì§€

**í•µì‹¬ ê¸°ëŠ¥**
- ìƒí’ˆ ì •ë³´ í‘œì‹œ (ê°€ê²©, ëª¨ì§‘ ì¸ì›, ë§ˆê°ì¼)
- ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ (ë‹¤ì¤‘ ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë”)
- êµ¬ê¸€ ë§µ ìœ„ì¹˜ í‘œì‹œ
- ì°¸ì—¬ì í˜„í™© (í”„ë¡œí•„ ì´ë¯¸ì§€, ì—­í•  í‘œì‹œ)
- ì¢‹ì•„ìš”/ì°œ ê¸°ëŠ¥
- ì±„íŒ…ë°© ì…ì¥

**ì°¸ì—¬ì í‘œì‹œ ê°œì„ **
```typescript
// êµ¬ë§¤ í™•ì •ëœ ì°¸ì—¬ìë§Œ í•„í„°ë§
const participants: Participant[] = product?.participants
  ?.filter((p: ParticipantResponse) => p.isCreator || p.isBuyer)
  ?.map((p: ParticipantResponse) => ({
    id: p.userId.toString(),
    name: p.nickname || 'ì•Œ ìˆ˜ ì—†ìŒ',
    avatar: p.profileImage || undefined,
    color: p.isCreator ? '#ff5e2f' : '#3399ff'
  })) || [];
```

**í”„ë¡œí•„ ì´ë¯¸ì§€ í‘œì‹œ**
```typescript
// ì‹¤ì œ í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ìˆìœ¼ë©´ í‘œì‹œ, ì—†ìœ¼ë©´ í”Œë ˆì´ìŠ¤í™€ë”
{participant.avatar ? (
  <img
    src={participant.avatar}
    alt={participant.name}
    style={{ borderColor: participant.color }}
  />
) : (
  <div
    className="participant-avatar-placeholder"
    style={{ backgroundColor: participant.color }}
  >
    {participant.name ? participant.name.charAt(0) : '?'}
  </div>
)}
```

**íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**
- **ë¬¸ì œ**: ì°¸ì—¬ì í”„ë¡œí•„ì—ì„œ nicknameì´ nullë¡œ í‘œì‹œ
- **í•´ê²°**: null ì²´í¬ ë° ê¸°ë³¸ê°’ ì²˜ë¦¬ (`p.nickname || 'ì•Œ ìˆ˜ ì—†ìŒ'`)
- **ì»¤ë°‹**: `bd45425` ì°¸ì—¬ì nickname null ì²˜ë¦¬ ì¶”ê°€

#### 4.2.3 ìƒí’ˆ ë“±ë¡/ìˆ˜ì •

**ê¸°ëŠ¥**
- ë‹¤ì¤‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ (S3 Presigned URL)
- ì¹´í…Œê³ ë¦¬ ì„ íƒ
- Google Mapsë¥¼ í†µí•œ ìœ„ì¹˜ ì„ íƒ
- ê°€ê²©, ëª¨ì§‘ ì¸ì›, ë§ˆê°ì¼ ì„¤ì •

**ì´ë¯¸ì§€ ì—…ë¡œë“œ í”Œë¡œìš°**
```typescript
const handleImageUpload = async (files: File[]) => {
  // 1. Presigned URL ë°œê¸‰
  const presignedUrls = await imageService.getPresignedUrls(
    files.map(f => f.name)
  );

  // 2. S3ì— ì§ì ‘ ì—…ë¡œë“œ
  await Promise.all(
    files.map((file, idx) =>
      imageService.uploadToS3(presignedUrls[idx].url, file)
    )
  );

  // 3. ì´ë¯¸ì§€ URLì„ ìƒí’ˆ ë°ì´í„°ì— í¬í•¨
  return presignedUrls.map(p => p.imageUrl);
};
```

### 4.3 ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥

#### 4.3.1 ê²Œì‹œê¸€ ëª©ë¡

**ê¸°ëŠ¥**
- ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§
- ê²€ìƒ‰ ê¸°ëŠ¥
- ì¢‹ì•„ìš” ìˆ˜, ëŒ“ê¸€ ìˆ˜ í‘œì‹œ
- ë™ë„¤ëª… í‘œì‹œ

**êµ¬í˜„**
```typescript
const fetchPosts = async () => {
  const response = await communityService.getPosts({
    divisionId: currentDivision?.divisionId || '',
    categoryId: selectedCategory,
    keyword: searchKeyword,
    pageNum: page,
    pageSize: 20
  });
  setPosts(response.posts);
};
```

#### 4.3.2 ê²Œì‹œê¸€ ìƒì„¸ ë° ëŒ“ê¸€

**ê¸°ëŠ¥**
- ê²Œì‹œê¸€ ìƒì„¸ ë‚´ìš© í‘œì‹œ
- ëŒ“ê¸€/ëŒ€ëŒ“ê¸€ ì‘ì„±
- ì¢‹ì•„ìš” í† ê¸€
- ì¡°íšŒìˆ˜ ì¦ê°€

**ëŒ“ê¸€ êµ¬ì¡°** (`src/types/comment.ts`)
```typescript
export interface CommentResponse {
  id: number;
  content: string;
  authorId: number;
  authorNickname: string | null;
  authorProfileImageUrl: string | null;
  createdAt: string;
  parentCommentId: number | null;  // ëŒ€ëŒ“ê¸€ì¸ ê²½ìš° ë¶€ëª¨ ëŒ“ê¸€ ID
  replies: CommentResponse[];       // ëŒ€ëŒ“ê¸€ ëª©ë¡
}
```

**ëŒ“ê¸€ ë Œë”ë§ (ì¬ê·€ì  êµ¬ì¡°)**
```typescript
const CommentItem = ({ comment, depth = 0 }: CommentItemProps) => (
  <div style={{ marginLeft: `${depth * 20}px` }}>
    <div className="comment-header">
      <Avatar src={comment.authorProfileImageUrl} />
      <span>{comment.authorNickname || 'ì•Œ ìˆ˜ ì—†ìŒ'}</span>
    </div>
    <p>{comment.content}</p>

    {/* ëŒ€ëŒ“ê¸€ ì¬ê·€ ë Œë”ë§ */}
    {comment.replies.map(reply => (
      <CommentItem key={reply.id} comment={reply} depth={depth + 1} />
    ))}
  </div>
);
```

**íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**
- **ë¬¸ì œ**: ëŒ“ê¸€ ì‘ì„±ì ì´ë¦„ì´ nullë¡œ í‘œì‹œ
- **í•´ê²°**: `authorNickname || 'ì•Œ ìˆ˜ ì—†ìŒ'` fallback ì²˜ë¦¬
- **ì»¤ë°‹**: ì—¬ëŸ¬ ì»¤ë°‹ì— ê±¸ì³ ê°œì„ 

#### 4.3.3 ì¢‹ì•„ìš” ê¸°ëŠ¥

**í† ê¸€ ë°©ì‹ êµ¬í˜„**
```typescript
const handleLikeToggle = async () => {
  try {
    if (isLiked) {
      // ì¢‹ì•„ìš” ì·¨ì†Œ
      await communityService.unlikePost(postId);
      setLikeCount(prev => prev - 1);
    } else {
      // ì¢‹ì•„ìš” ì¶”ê°€
      await communityService.likePost(postId);
      setLikeCount(prev => prev + 1);
    }
    setIsLiked(!isLiked);
  } catch (error) {
    console.error('ì¢‹ì•„ìš” ì²˜ë¦¬ ì‹¤íŒ¨', error);
  }
};
```

**ì»¤ë°‹ íˆìŠ¤í† ë¦¬**
- `ba42e91` ì»¤ë®¤ë‹ˆí‹° ì¢‹ì•„ìš”ë¥¼ í† ê¸€ ë°©ì‹ìœ¼ë¡œ ë³€ê²½
- `e757515` ì¢‹ì•„ìš” í† ê¸€ ì‹œ ì˜¬ë°”ë¥¸ ì¹´ìš´íŠ¸ í‘œì‹œë˜ë„ë¡ ìˆ˜ì •

### 4.4 ë§ˆì´í˜ì´ì§€

#### 4.4.1 í”„ë¡œí•„ ê´€ë¦¬

**ê¸°ëŠ¥**
- í”„ë¡œí•„ ì´ë¯¸ì§€ ë³€ê²½ (S3 ì—…ë¡œë“œ)
- ë‹‰ë„¤ì„ ë³€ê²½
- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

**í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ**
```typescript
const handleProfileImageChange = async (file: File) => {
  // Presigned URL ë°œê¸‰
  const { url, imageUrl } = await imageService.getPresignedUrl(file.name);

  // S3ì— ì—…ë¡œë“œ
  await imageService.uploadToS3(url, file);

  // ì‚¬ìš©ì í”„ë¡œí•„ ì—…ë°ì´íŠ¸
  await userService.updateProfile({ profileImageUrl: imageUrl });

  // ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸
  updateUser({ ...user, profileImage: imageUrl });
};
```

#### 4.4.2 êµ¬ë§¤/íŒë§¤ ë‚´ì—­

**íƒ­ êµ¬ì¡°**
- êµ¬ë§¤ ë‚´ì—­
- íŒë§¤ ë‚´ì—­
- ì°œí•œ ìƒí’ˆ

**API í†µí•©**
```typescript
const fetchPurchaseHistory = async () => {
  const response = await marketService.getPurchaseHistory({
    type: activeTab === 'purchase' ? 'BUYER' : 'SELLER',
    pageNum: 0,
    pageSize: 20
  });
  setHistory(response.markets);
};
```

---

## 5. ìƒíƒœ ê´€ë¦¬ ë° API í†µí•©

### 5.1 Zustandë¥¼ í™œìš©í•œ ìƒíƒœ ê´€ë¦¬

#### 5.1.1 authStore - ì¸ì¦ ìƒíƒœ

**Store êµ¬ì¡°** (`src/stores/authStore.ts`)
```typescript
interface AuthState {
  user: User | null;
  isAuthenticated: boolean;
  login: (user: User, token: string) => void;
  logout: () => void;
  updateUser: (user: Partial<User>) => void;
}

export const useAuthStore = create<AuthState>((set) => ({
  user: null,
  isAuthenticated: false,

  login: (user, token) => {
    setAccessToken(token);
    set({ user, isAuthenticated: true });
  },

  logout: () => {
    removeAccessToken();
    set({ user: null, isAuthenticated: false });
  },

  updateUser: (updates) => set((state) => ({
    user: state.user ? { ...state.user, ...updates } : null
  }))
}));
```

**ì‚¬ìš© ì˜ˆì‹œ**
```typescript
const LoginPage = () => {
  const { login } = useAuthStore();

  const handleLogin = async (email: string, password: string) => {
    const response = await authService.login(email, password);
    login(response.user, response.token);
    navigate('/');
  };
};
```

#### 5.1.2 locationStore - ìœ„ì¹˜ ìƒíƒœ

**Store êµ¬ì¡°** (`src/stores/locationStore.ts`)
```typescript
interface LocationState {
  currentDivision: Division | null;
  isLoading: boolean;
  error: string | null;
  setCurrentDivision: (division: Division) => void;
  initializeLocation: () => Promise<void>;
}

export const useLocationStore = create<LocationState>((set) => ({
  currentDivision: null,
  isLoading: false,
  error: null,

  setCurrentDivision: (division) => {
    localStorage.setItem('currentDivision', JSON.stringify(division));
    set({ currentDivision: division });
  },

  initializeLocation: async () => {
    set({ isLoading: true });
    try {
      // localStorageì—ì„œ ë³µì›
      const saved = localStorage.getItem('currentDivision');
      if (saved) {
        set({ currentDivision: JSON.parse(saved), isLoading: false });
      }
    } catch (error) {
      set({ error: 'ìœ„ì¹˜ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤', isLoading: false });
    }
  }
}));
```

#### 5.1.3 chatStore - ì±„íŒ… ìƒíƒœ

**Store êµ¬ì¡°** (`src/stores/chatStore.ts`)
```typescript
interface ChatState {
  stompClient: Client | null;
  wsStatus: 'disconnected' | 'connecting' | 'connected';
  currentRoom: ChatRoomDetail | null;
  messages: ChatMessageResponse[];
  unreadCount: number;

  // WebSocket ê´€ë¦¬
  initializeWebSocket: () => void;
  disconnectWebSocket: () => void;

  // ì±„íŒ…ë°© ê´€ë¦¬
  fetchChatRooms: () => Promise<void>;
  fetchChatRoom: (roomId: number) => Promise<void>;
  joinChatRoom: (roomId: number) => Promise<void>;

  // ë©”ì‹œì§€ ê´€ë¦¬
  sendMessage: (roomId: number, content: string, userId: number, nickname: string) => void;
  addMessage: (message: ChatMessageResponse) => void;

  // êµ¬ë§¤ì í™•ì •
  confirmBuyer: (roomId: number) => Promise<void>;
}
```

**WebSocket ì—°ê²° ê´€ë¦¬**
```typescript
initializeWebSocket: () => {
  const token = getAccessToken();
  const client = new Client({
    brokerURL: `${WS_URL}/ws`,
    connectHeaders: {
      // API Gatewayê°€ ìë™ìœ¼ë¡œ Authorization í—¤ë” ì²˜ë¦¬
    },
    debug: (str) => {
      if (import.meta.env.DEV) console.log('[STOMP]', str);
    },
    onConnect: () => {
      set({ wsStatus: 'connected' });
    },
    onDisconnect: () => {
      set({ wsStatus: 'disconnected' });
    }
  });

  client.activate();
  set({ stompClient: client, wsStatus: 'connecting' });
}
```

### 5.2 API ì„œë¹„ìŠ¤ ë ˆì´ì–´

#### 5.2.1 API Client ì„¤ì •

**Axios ì¸ìŠ¤í„´ìŠ¤** (`src/api/client.ts`)
```typescript
const apiClient = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL || 'http://localhost:8080',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
});

// ìš”ì²­ ì¸í„°ì…‰í„°
apiClient.interceptors.request.use(
  (config) => {
    // í† í° ì¶”ê°€
    const token = getAccessToken();
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }

    // X-User-Id í—¤ë” ì¶”ê°€
    const user = useAuthStore.getState().user;
    if (user?.userId) {
      config.headers['X-User-Id'] = user.userId.toString();
    }

    return config;
  },
  (error) => Promise.reject(error)
);

// ì‘ë‹µ ì¸í„°ì…‰í„°
apiClient.interceptors.response.use(
  (response) => {
    // ì‘ë‹µ ë°ì´í„°ì—ì„œ í† í° í™•ì¸ (ë¡œê·¸ì¸ ì‹œ)
    const token = response.headers['authorization'] || response.data?.token;
    if (token) {
      setAccessToken(token.replace('Bearer ', ''));
    }
    return response;
  },
  async (error) => {
    // 401 ì—ëŸ¬ ì²˜ë¦¬
    if (error.response?.status === 401) {
      const authStore = useAuthStore.getState();
      authStore.logout();
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);
```

#### 5.2.2 ë„ë©”ì¸ë³„ API ì„œë¹„ìŠ¤

**Market Service** (`src/api/services/market.ts`)
```typescript
export const marketService = {
  // ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
  async getMarkets(params: MarketListRequest): Promise<MarketListResponse> {
    const response = await apiClient.get('/api/v1/markets', { params });
    return response.data;
  },

  // ìƒí’ˆ ìƒì„¸ ì¡°íšŒ
  async getMarket(marketId: number): Promise<MarketDetailResponse> {
    const response = await apiClient.get(`/api/v1/markets/${marketId}`);
    return response.data;
  },

  // ìƒí’ˆ ë“±ë¡
  async createMarket(data: CreateMarketRequest): Promise<CreateMarketResponse> {
    const formData = new FormData();

    // ì´ë¯¸ì§€ íŒŒì¼ ì¶”ê°€
    if (data.images) {
      data.images.forEach(image => {
        formData.append('images', image);
      });
    }

    // JSON ë°ì´í„° ì¶”ê°€
    formData.append('data', new Blob([JSON.stringify({
      title: data.title,
      categoryId: data.categoryId,
      price: data.price,
      recruitMin: data.recruitMin,
      recruitMax: data.recruitMax,
      endTime: data.endTime,
      content: data.content,
      latitude: data.latitude,
      longitude: data.longitude,
      locationText: data.locationText
    })], { type: 'application/json' }));

    const response = await apiClient.post('/api/v1/markets', formData, {
      headers: { 'Content-Type': 'multipart/form-data' }
    });
    return response.data;
  },

  // ìƒí’ˆ ì¢‹ì•„ìš” í† ê¸€
  async toggleLike(marketId: number): Promise<void> {
    await apiClient.post(`/api/v1/markets/${marketId}/like`);
  },

  // ì¡°íšŒìˆ˜ ì¦ê°€
  async incrementViews(marketId: number): Promise<void> {
    await apiClient.post(`/api/v1/markets/${marketId}/views`);
  }
};
```

**Community Service** (`src/api/services/community.ts`)
```typescript
export const communityService = {
  // ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
  async getPosts(params: CommunityListRequest): Promise<CommunityListResponse> {
    const response = await apiClient.get('/api/v1/community', { params });
    return response.data;
  },

  // ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
  async getPost(postId: number): Promise<CommunityDetailResponse> {
    const response = await apiClient.get(`/api/v1/community/${postId}`);
    return response.data;
  },

  // ê²Œì‹œê¸€ ì‘ì„±
  async createPost(data: CreateCommunityRequest): Promise<CreateCommunityResponse> {
    const formData = new FormData();

    if (data.images) {
      data.images.forEach(image => {
        formData.append('images', image);
      });
    }

    formData.append('data', new Blob([JSON.stringify({
      title: data.title,
      categoryId: data.categoryId,
      content: data.content
    })], { type: 'application/json' }));

    const response = await apiClient.post('/api/v1/community', formData, {
      headers: { 'Content-Type': 'multipart/form-data' }
    });
    return response.data;
  },

  // ì¢‹ì•„ìš” í† ê¸€
  async toggleLike(postId: number): Promise<void> {
    await apiClient.post(`/api/v1/community/${postId}/like`);
  }
};
```

**Comment Service** (`src/api/services/comment.ts`)
```typescript
export const commentService = {
  // ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ
  async getComments(postId: number): Promise<CommentResponse[]> {
    const response = await apiClient.get(`/api/v1/community/${postId}/comments`);
    return response.data;
  },

  // ëŒ“ê¸€ ì‘ì„±
  async createComment(postId: number, content: string, parentCommentId?: number) {
    const response = await apiClient.post(`/api/v1/community/${postId}/comments`, {
      content,
      parentCommentId
    });
    return response.data;
  },

  // ëŒ“ê¸€ ì‚­ì œ
  async deleteComment(postId: number, commentId: number): Promise<void> {
    await apiClient.delete(`/api/v1/community/${postId}/comments/${commentId}`);
  }
};
```

### 5.3 íƒ€ì… ì‹œìŠ¤í…œ

**TypeScript íƒ€ì… ì •ì˜** (`src/types/`)

**Market Types** (`market.ts`)
```typescript
export type MarketStatus = 'RECRUITING' | 'ENDED' | 'CANCELLED' | 'REMOVED';
export type MarketSortType = 'LATEST' | 'ENDING_SOON' | 'CHEAPEST' | 'MOST_VIEWED';

export interface MarketDetailResponse {
  marketId: number;
  categoryId: string;
  endTime: string;
  price: number;
  recruitMin: number;
  recruitMax: number;
  recruitNow: number;
  status: MarketStatus;
  title: string;
  content: string;
  authorId: number;
  authorNickname: string;
  authorProfileImageUrl: string | null;
  locationText: string;
  divisionId: string;
  emdName: string;
  latitude: number;
  longitude: number;
  createdAt: string;
  updatedAt: string;
  views: number;
  images: ImageResponse[];
  participants: ParticipantResponse[];
  chatRoomId?: number;
}
```

**Chat Types** (`chat.ts`)
```typescript
export type ChatRoomStatus = 'RECRUITING' | 'RECRUITMENT_CLOSED' | 'COMPLETED' | 'CANCELLED';
export type MessageType = 'TEXT' | 'SYSTEM' | 'IMAGE';

export interface ChatRoomDetail {
  id: number;
  marketId: number;
  title: string;
  thumbnailUrl: string;
  creatorUserId: number;
  currentBuyers: number;
  maxBuyers: number;
  status: ChatRoomStatus;
  creator: boolean;  // í˜„ì¬ ì‚¬ìš©ìê°€ ë°©ì¥ì¸ì§€
  buyer: boolean;    // í˜„ì¬ ì‚¬ìš©ìê°€ êµ¬ë§¤ìë¡œ í™•ì •ë˜ì—ˆëŠ”ì§€
}

export interface ChatMessageResponse {
  id: number;
  messageContent: string;
  messageType: MessageType;
  senderId: number;
  senderNickname: string;
  sentAt: string;
}
```

---

## 6. ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œ

### 6.1 WebSocket ì•„í‚¤í…ì²˜

#### 6.1.1 STOMP over WebSocket

**ê¸°ìˆ  ì„ íƒ ì´ìœ **
- **STOMP í”„ë¡œí† ì½œ**: ë©”ì‹œì§• í”„ë ˆì„ì›Œí¬ í‘œì¤€
- **SockJS í´ë°±**: WebSocket ë¯¸ì§€ì› ë¸Œë¼ìš°ì € ëŒ€ì‘
- **êµ¬ë… ê¸°ë°˜**: ì±„íŒ…ë°©ë³„ topic êµ¬ë…

**ì—°ê²° êµ¬ì¡°**
```
Client (React)
  â†“ WebSocket
API Gateway (8080)
  â†“ Proxy
Chat Service (8086)
  â†“ STOMP
Message Broker
```

#### 6.1.2 WebSocket ì—°ê²° ì„¤ì •

**chatStore WebSocket ì´ˆê¸°í™”**
```typescript
initializeWebSocket: () => {
  const WS_URL = import.meta.env.DEV
    ? 'http://localhost:8080'  // ê°œë°œ: API Gateway ê²½ìœ 
    : window.location.origin;  // í”„ë¡œë•ì…˜: ë™ì¼ origin

  const client = new Client({
    brokerURL: `${WS_URL}/ws`,

    // SockJS í´ë°± ë¹„í™œì„±í™” (ë„¤ì´í‹°ë¸Œ WebSocket ì‚¬ìš©)
    webSocketFactory: () => new WebSocket(`${WS_URL}/ws`),

    reconnectDelay: 5000,
    heartbeatIncoming: 4000,
    heartbeatOutgoing: 4000,

    debug: (str) => {
      if (import.meta.env.DEV) console.log('[STOMP Debug]', str);
    },

    onConnect: (frame) => {
      console.log('[WebSocket] ì—°ê²° ì„±ê³µ', frame);
      set({ wsStatus: 'connected' });
    },

    onDisconnect: () => {
      console.log('[WebSocket] ì—°ê²° í•´ì œ');
      set({ wsStatus: 'disconnected', messages: [] });
    },

    onStompError: (frame) => {
      console.error('[STOMP Error]', frame);
    }
  });

  client.activate();
  set({ stompClient: client, wsStatus: 'connecting' });
}
```

**Vite í”„ë¡ì‹œ ì„¤ì •** (`vite.config.ts`)
```typescript
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:8080',
      changeOrigin: true
    },
    '/ws': {
      target: 'http://localhost:8080',
      ws: true,  // WebSocket í”„ë¡ì‹œ í™œì„±í™”
      changeOrigin: true
    }
  }
}
```

### 6.2 ì±„íŒ…ë°© ê¸°ëŠ¥ êµ¬í˜„

#### 6.2.1 ì±„íŒ…ë°© ì…ì¥ ë° êµ¬ë…

**ì±„íŒ…ë°© ì •ë³´ ë¡œë“œ**
```typescript
fetchChatRoom: async (roomId: number) => {
  try {
    const room = await chatService.getChatRoom(roomId);
    set({ currentRoom: room });

    // ì´ì „ ë©”ì‹œì§€ ë¡œë“œ
    const messages = await chatService.getMessages(roomId);
    set({ messages });

    // WebSocket êµ¬ë… ì‹œì‘
    const { stompClient } = get();
    if (stompClient && stompClient.connected) {
      stompClient.subscribe(`/topic/chat/${roomId}`, (message) => {
        const newMessage: ChatMessageResponse = JSON.parse(message.body);
        get().addMessage(newMessage);
      });
    }
  } catch (error) {
    console.error('[ì±„íŒ…ë°© ë¡œë“œ ì‹¤íŒ¨]', error);
  }
}
```

#### 6.2.2 ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ 

**ë©”ì‹œì§€ ì „ì†¡**
```typescript
sendMessage: (roomId: number, content: string, userId: number, nickname: string) => {
  const { stompClient } = get();

  if (!stompClient || !stompClient.connected) {
    console.error('[ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨] WebSocket ë¯¸ì—°ê²°');
    return;
  }

  const messagePayload = {
    chatRoomId: roomId,
    messageContent: content,
    messageType: 'TEXT',
    senderId: userId,
    senderNickname: nickname
  };

  stompClient.publish({
    destination: `/app/chat/${roomId}`,
    headers: {
      'X-User-Id': userId.toString()
    },
    body: JSON.stringify(messagePayload)
  });
}
```

**ë©”ì‹œì§€ ìˆ˜ì‹  ë° ë Œë”ë§**
```typescript
addMessage: (message: ChatMessageResponse) => {
  set((state) => ({
    messages: [...state.messages, message]
  }));
}

// ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©
const ChatRoomPage = () => {
  const { messages } = useChatStore();

  // ë©”ì‹œì§€ í¬ë§· ë³€í™˜
  const formattedMessages: ChatMessage[] = messages.map((msg) => {
    const messageType = msg.senderId === user?.userId
      ? 'my'
      : msg.messageType === 'SYSTEM'
        ? 'system'
        : 'buyer';

    // ì‹œìŠ¤í…œ ë©”ì‹œì§€ ë‹‰ë„¤ì„ ì¹˜í™˜
    let messageContent = msg.messageContent;
    if (messageType === 'system' && msg.senderNickname) {
      messageContent = messageContent.replace(/^\d+/, msg.senderNickname);
    }

    return {
      id: msg.id.toString(),
      type: messageType,
      content: messageContent,
      sender: msg.senderId === user?.userId ? undefined : {
        name: msg.senderNickname,
        isSeller: msg.senderId === currentRoom?.creatorUserId
      },
      timestamp: new Date(msg.sentAt).toLocaleTimeString('ko-KR', {
        hour: '2-digit',
        minute: '2-digit'
      })
    };
  });

  return <ChatRoom messages={formattedMessages} {...props} />;
};
```

#### 6.2.3 êµ¬ë§¤ì í™•ì • ê¸°ëŠ¥

**êµ¬ë§¤ ì‹ ì²­ (êµ¬ë§¤ì)**
```typescript
const handleApply = async () => {
  if (roomId && currentRoom) {
    try {
      await confirmBuyer(parseInt(roomId, 10));
      alert('êµ¬ë§¤ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');

      // ì±„íŒ…ë°© ì •ë³´ ìƒˆë¡œê³ ì¹¨ (ì°¸ì—¬ì ìˆ˜ ë° êµ¬ë§¤ì ìƒíƒœ ì—…ë°ì´íŠ¸)
      await fetchChatRoom(parseInt(roomId, 10));
    } catch (error) {
      alert('êµ¬ë§¤ ì‹ ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    }
  }
};
```

**êµ¬ë§¤ì í™•ì • (íŒë§¤ì)**
```typescript
const handleConfirm = async () => {
  if (roomId && currentRoom) {
    try {
      await confirmBuyer(parseInt(roomId, 10));
      alert('êµ¬ë§¤ìê°€ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');

      // ì±„íŒ…ë°© ì •ë³´ ìƒˆë¡œê³ ì¹¨ (ëª¨ì§‘ ìƒíƒœ ì—…ë°ì´íŠ¸)
      await fetchChatRoom(parseInt(roomId, 10));
    } catch (error) {
      alert('êµ¬ë§¤ì í™•ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    }
  }
};
```

**ì—­í•  ê¸°ë°˜ UI í‘œì‹œ**
```typescript
// ì‚¬ìš©ì ì—­í•  ê²°ì •
const userRole = currentRoom?.creator ? 'seller' : 'buyer';
const isBuyer = currentRoom?.buyer ?? false;

// ë²„íŠ¼ í‘œì‹œ ë¡œì§
- sellerì´ê³  ëª¨ì§‘ ì¤‘: "êµ¬ë§¤ì í™•ì •" ë²„íŠ¼
- sellerì´ê³  ëª¨ì§‘ ë§ˆê°: "ì‹œê°„ ì—°ì¥" ë²„íŠ¼
- buyerì´ê³  ë¯¸í™•ì •: "êµ¬ë§¤ ì‹ ì²­" ë²„íŠ¼
- buyerì´ê³  í™•ì •: "êµ¬ë§¤ ì·¨ì†Œ" ë²„íŠ¼
```

### 6.3 ì±„íŒ… ì‹œìŠ¤í…œ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

#### 6.3.1 WebSocket ì—°ê²° ë¬¸ì œ

**ë¬¸ì œ 1: CORS ì—ëŸ¬**
- **ì¦ìƒ**: WebSocket ì—°ê²° ì‹œ CORS ì—ëŸ¬ ë°œìƒ
- **ì›ì¸**: ë°±ì—”ë“œ CORS ì„¤ì • ë¯¸ë¹„
- **í•´ê²°**: Vite í”„ë¡ì‹œë¡œ `/ws` ê²½ë¡œ í”„ë¡ì‹œ ì²˜ë¦¬
- **ì»¤ë°‹**: `2186eae` WebSocket CORS ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ Vite proxy ì„¤ì •

**ë¬¸ì œ 2: WebSocket êµ¬ë… íƒ€ì´ë°**
- **ì¦ìƒ**: ì±„íŒ…ë°© ì…ì¥ ì‹œ ë©”ì‹œì§€ ìˆ˜ì‹  ì•ˆ ë¨
- **ì›ì¸**: WebSocket ì—°ê²° ì „ì— êµ¬ë… ì‹œë„
- **í•´ê²°**: `onConnect` ì½œë°±ì—ì„œ êµ¬ë… ë¡œì§ ì‹¤í–‰
- **ì»¤ë°‹**: `e5c5133` WebSocket êµ¬ë… íƒ€ì´ë° ë¬¸ì œ í•´ê²°

**ë¬¸ì œ 3: useEffect ì˜ì¡´ì„± ë°°ì—´**
- **ì¦ìƒ**: ì±„íŒ…ë°© ì¬ì…ì¥ ì‹œ êµ¬ë… ì¤‘ë³µ
- **ì›ì¸**: useEffect ì˜ì¡´ì„± ë°°ì—´ ì„¤ì • ì˜¤ë¥˜
- **í•´ê²°**: ì˜ì¡´ì„± ë°°ì—´ ìˆ˜ì • ë° cleanup í•¨ìˆ˜ ì¶”ê°€
- **ì»¤ë°‹**: `91fdc02` WebSocket êµ¬ë… ì•ˆ ë˜ëŠ” ë¬¸ì œ ìˆ˜ì • (useEffect ì˜ì¡´ì„± ë°°ì—´)

#### 6.3.2 ë©”ì‹œì§€ íƒ€ì… ë¶ˆì¼ì¹˜

**ë¬¸ì œ**: ë©”ì‹œì§€ íƒ€ì… ë¶ˆì¼ì¹˜ë¡œ ë Œë”ë§ ì•ˆ ë¨
- **ì¦ìƒ**: ë°±ì—”ë“œì—ì„œ ë³´ë‚¸ ë©”ì‹œì§€ê°€ í™”ë©´ì— í‘œì‹œë˜ì§€ ì•ŠìŒ
- **ì›ì¸**: í”„ë¡ íŠ¸ì—”ë“œ íƒ€ì… (`TEXT`, `SYSTEM`, `IMAGE`)ê³¼ ë°±ì—”ë“œ íƒ€ì… ë¶ˆì¼ì¹˜
- **í•´ê²°**: ë°±ì—”ë“œ ì‘ë‹µ êµ¬ì¡°ì— ë§ì¶° íƒ€ì… ë³€í™˜ ë¡œì§ ì¶”ê°€
- **ì»¤ë°‹**: `ef5fdc1` WebSocket ë©”ì‹œì§€ íƒ€ì… ë¶ˆì¼ì¹˜ë¡œ ë Œë”ë§ ì•ˆ ë˜ëŠ” ë¬¸ì œ ìˆ˜ì •

#### 6.3.3 ì‹œìŠ¤í…œ ë©”ì‹œì§€ í‘œì‹œ

**ë¬¸ì œ**: ì‹œìŠ¤í…œ ë©”ì‹œì§€ì— userIdê°€ ìˆ«ìë¡œ í‘œì‹œ
- **ì¦ìƒ**: "1ë‹˜ì´ ì°¸ê°€í–ˆìŠµë‹ˆë‹¤" í˜•íƒœë¡œ í‘œì‹œ
- **ì›ì¸**: ë°±ì—”ë“œì—ì„œ userIdë¥¼ ë©”ì‹œì§€ ë³¸ë¬¸ì— í¬í•¨
- **í•´ê²°**: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì •ê·œì‹ìœ¼ë¡œ userIdë¥¼ ë‹‰ë„¤ì„ìœ¼ë¡œ ì¹˜í™˜
- **ì»¤ë°‹**: `76011d1` ì±„íŒ… ì‹œìŠ¤í…œ ë©”ì‹œì§€ì—ì„œ ìˆ«ì ëŒ€ì‹  ë‹‰ë„¤ì„ í‘œì‹œ

```typescript
// ì‹œìŠ¤í…œ ë©”ì‹œì§€ ë‹‰ë„¤ì„ ì¹˜í™˜
let messageContent = msg.messageContent;
if (messageType === 'system' && msg.senderNickname) {
  // "1ë‹˜ì´ ì°¸ê°€í–ˆìŠµë‹ˆë‹¤" â†’ "í™ê¸¸ë™ë‹˜ì´ ì°¸ê°€í–ˆìŠµë‹ˆë‹¤"
  messageContent = messageContent.replace(/^\d+/, msg.senderNickname);
}
```

#### 6.3.4 ì±„íŒ…ë°© ì…ì¥ ë¡œì§

**ë¬¸ì œ**: ì±„íŒ…ë°© ì…ì¥ ì‹œ ì¤‘ë³µ ìš”ì²­
- **ì¦ìƒ**: `joinChatRoom` API ì¤‘ë³µ í˜¸ì¶œ
- **ì›ì¸**: ê¸°ì¡´ ì±„íŒ…ë°©ì—ë„ `joinChatRoom` í˜¸ì¶œ
- **í•´ê²°**: ì‹ ê·œ ì…ì¥(`joinChatRoom`)ê³¼ ê¸°ì¡´ ì±„íŒ…ë°© ë¡œë“œ(`fetchChatRoom`) ë¶„ë¦¬
- **ì»¤ë°‹**: `0c8a68f` ì±„íŒ…ë°© ì…ì¥ ë¡œì§ ìˆ˜ì • (join â†’ getChatRoom)

**ìµœì¢… ë¡œì§**
```typescript
// ì±„íŒ…ë°© ì •ë³´ ë¡œë“œ (ì¤‘ë³µ ë°©ì§€)
useEffect(() => {
  if (roomId && user && !hasJoinedRef.current) {
    hasJoinedRef.current = true;
    const numericRoomId = parseInt(roomId, 10);
    fetchChatRoom(numericRoomId);  // joinChatRoom ëŒ€ì‹  fetchChatRoom
  }
}, [roomId, user]);
```

### 6.4 ì±„íŒ… ì‹œìŠ¤í…œ ë¬¸ì„œí™”

**ì‘ì„±ëœ ë¬¸ì„œ**
- `CHAT_SYSTEM_TODO.md` - ì±„íŒ… ê¸°ëŠ¥ ë°±ì—”ë“œ ì—°ë™ ê°€ì´ë“œ
- `websocket-spec-analysis.md` - WebSocket ìŠ¤í™ ë¶„ì„
- `websocket-backend-issues.md` - ë°±ì—”ë“œ ì´ìŠˆ ì •ë¦¬
- `chat-purchase-issues.md` - ì±„íŒ…/êµ¬ë§¤ ì—°ë™ ì´ìŠˆ

---

## 7. ë°˜ì‘í˜• UI/UX ìµœì í™”

### 7.1 ëª¨ë°”ì¼ ìš°ì„  ì„¤ê³„

#### 7.1.1 ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸

**CSS ë¯¸ë””ì–´ ì¿¼ë¦¬**
```css
/* Mobile First */
.container {
  width: 100%;
  padding: 0 16px;
}

/* Tablet */
@media (min-width: 768px) {
  .container {
    max-width: 768px;
    margin: 0 auto;
  }
}

/* Desktop */
@media (min-width: 1024px) {
  .container {
    max-width: 1200px;
  }
}
```

#### 7.1.2 ëª¨ë°”ì¼ ì „ìš© ì»´í¬ë„ŒíŠ¸

**MobileHeader**
- í–„ë²„ê±° ë©”ë‰´
- ìœ„ì¹˜ ì„ íƒ ë²„íŠ¼
- ê²€ìƒ‰ ì•„ì´ì½˜
- ë¡œê³ 

**BottomNav** (í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜)
```typescript
const BottomNav = () => {
  const location = useLocation();

  const navItems = [
    { path: '/', icon: 'ğŸ ', label: 'í™ˆ' },
    { path: '/products', icon: 'ğŸ›’', label: 'ê³µë™êµ¬ë§¤' },
    { path: '/community', icon: 'ğŸ’¬', label: 'ì»¤ë®¤ë‹ˆí‹°' },
    { path: '/chat', icon: 'ğŸ’¬', label: 'ì±„íŒ…' },
    { path: '/mypage', icon: 'ğŸ‘¤', label: 'ë§ˆì´' }
  ];

  return (
    <nav className="bottom-nav">
      {navItems.map(item => (
        <Link
          key={item.path}
          to={item.path}
          className={location.pathname === item.path ? 'active' : ''}
        >
          <span className="icon">{item.icon}</span>
          <span className="label">{item.label}</span>
        </Link>
      ))}
    </nav>
  );
};
```

**FloatingActionButton (FAB)**
- ìƒí’ˆ ë“±ë¡ ë²„íŠ¼
- ê²Œì‹œê¸€ ì‘ì„± ë²„íŠ¼
- ê³ ì • ìœ„ì¹˜ (ìš°í•˜ë‹¨)

```css
.fab {
  position: fixed;
  bottom: 80px;  /* BottomNav ìœ„ */
  right: 20px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--primary-500);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  z-index: 100;
}
```

### 7.2 ë°ìŠ¤í¬í†± ìµœì í™”

#### 7.2.1 ê³ ì • í—¤ë”

**PC ë·° í—¤ë” ê³ ì •**
```css
.header {
  position: sticky;
  top: 0;
  z-index: 1000;
  background-color: white;
  border-bottom: 1px solid var(--gray-200);
}
```

**ì»¤ë°‹**: `22dbdfe` PC ë·°ì—ì„œ í—¤ë”ë¥¼ ë¸Œë¼ìš°ì € ìƒë‹¨ì— ê³ ì •

#### 7.2.2 ë ˆì´ì•„ì›ƒ ìµœì í™”

**2ë‹¨ ë ˆì´ì•„ì›ƒ (ëª©ë¡ + ìƒì„¸)**
```tsx
<div className="desktop-layout">
  <aside className="sidebar">
    {/* ëª©ë¡ */}
    <ProductList />
  </aside>
  <main className="content">
    {/* ìƒì„¸ */}
    <ProductDetail />
  </main>
</div>
```

### 7.3 ëª¨ë‹¬ ì‹œìŠ¤í…œ í†µí•©

#### 7.3.1 ë²”ìš© Modal ì»´í¬ë„ŒíŠ¸

**ë¦¬íŒ©í† ë§ ì „**
- ChatModal (ì±„íŒ… ì „ìš© ëª¨ë‹¬)
- LocationModal (ìœ„ì¹˜ ì„ íƒ ëª¨ë‹¬)
- ê°ê° ë…ë¦½ì ì¸ êµ¬ì¡°

**ë¦¬íŒ©í† ë§ í›„**
- ë²”ìš© Modal ì»´í¬ë„ŒíŠ¸ë¡œ í†µí•©
- children propìœ¼ë¡œ ë‚´ìš© ì£¼ì…
- PC/ëª¨ë°”ì¼ ë™ì¼í•œ UX

```typescript
interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  title?: string;
  children: React.ReactNode;
  fullScreen?: boolean;  // ëª¨ë°”ì¼ ì „ì²´í™”ë©´
}

const Modal = ({ isOpen, onClose, title, children, fullScreen }: ModalProps) => {
  if (!isOpen) return null;

  return (
    <div className="modal-overlay" onClick={onClose}>
      <div
        className={`modal-content ${fullScreen ? 'fullscreen' : ''}`}
        onClick={(e) => e.stopPropagation()}
      >
        {title && (
          <div className="modal-header">
            <h2>{title}</h2>
            <button onClick={onClose}>âœ•</button>
          </div>
        )}
        <div className="modal-body">
          {children}
        </div>
      </div>
    </div>
  );
};
```

**ì‚¬ìš© ì˜ˆì‹œ**
```typescript
<Modal isOpen={isChatOpen} onClose={closeChatModal} fullScreen>
  <ChatRoomPage roomId={roomId} onBack={closeChatModal} showBottomNav={false} />
</Modal>
```

**ì»¤ë°‹**
- `3f82751` ë²”ìš© Modal ì»´í¬ë„ŒíŠ¸ë¡œ í†µí•© ë° ë¶ˆí•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ ì œê±°
- `1ea1412` PC/ëª¨ë°”ì¼ ì±„íŒ… UI í†µì¼ - ëª¨ë‹¬ ë‚´ë¶€ì—ì„œ í˜ì´ì§€ ë Œë”ë§

#### 7.3.2 ëª¨ë‹¬ ë‚´ë¶€ ë Œë”ë§ ê°œì„ 

**ë¬¸ì œ**: ëª¨ë‹¬ ë‚´ë¶€ì—ì„œ ìƒë‹¨ ì˜ë¦¼
- **ì›ì¸**: CSS overflow ë° height ê³„ì‚° ì˜¤ë¥˜
- **í•´ê²°**: flexbox ë ˆì´ì•„ì›ƒ ë° height: 100% ì ìš©
- **ì»¤ë°‹**: `a949781` ëª¨ë‹¬ ë‚´ë¶€ ë Œë”ë§ ì‹œ ìƒë‹¨ ì˜ë¦¼ ë¬¸ì œ í•´ê²°

### 7.4 ì´ë¯¸ì§€ ìµœì í™”

**Lazy Loading**
```typescript
<img
  src={product.thumbnailUrl}
  alt={product.title}
  loading="lazy"
/>
```

**ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë” (ë‹¤ì¤‘ ì´ë¯¸ì§€)**
```typescript
const ImageSlider = ({ images }: { images: string[] }) => {
  const [currentIndex, setCurrentIndex] = useState(0);

  return (
    <div className="slider">
      <img src={images[currentIndex]} alt="" />
      <div className="slider-dots">
        {images.map((_, idx) => (
          <span
            key={idx}
            className={idx === currentIndex ? 'active' : ''}
            onClick={() => setCurrentIndex(idx)}
          />
        ))}
      </div>
    </div>
  );
};
```

---

## 8. í…ŒìŠ¤íŠ¸ ìë™í™” ì „ëµ

### 8.1 Playwright E2E í…ŒìŠ¤íŠ¸ ê³„íš

**ë¬¸ì„œ**: `docs/E2E-Testing-Guide.md`

#### 8.1.1 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

**Critical Path (P0)**
1. ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
2. ìƒí’ˆ ë“±ë¡
3. ìƒí’ˆ ê²€ìƒ‰ ë° ìƒì„¸ ì¡°íšŒ
4. ì±„íŒ…ë°© ì…ì¥
5. ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ 

**High Priority (P1)**
- íšŒì›ê°€ì… ë° í”„ë¡œí•„ ìˆ˜ì •
- ì¢‹ì•„ìš”/ì°œ ê¸°ëŠ¥
- ëŒ“ê¸€ ì‘ì„±
- êµ¬ë§¤ ì‹ ì²­

**Medium Priority (P2)**
- ì¹´í…Œê³ ë¦¬ í•„í„°ë§
- ìœ„ì¹˜ ë³€ê²½
- ê²Œì‹œê¸€ ì‘ì„±

#### 8.1.2 Page Object Model

**LoginPage**
```typescript
export class LoginPage {
  constructor(private page: Page) {}

  async login(email: string, password: string) {
    await this.page.fill('[name="email"]', email);
    await this.page.fill('[name="password"]', password);
    await this.page.click('button[type="submit"]');
    await this.page.waitForURL('/');
  }

  async loginWithKakao() {
    await this.page.click('button:has-text("ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸")');
    // OAuth í”Œë¡œìš° ì²˜ë¦¬
  }
}
```

**ProductDetailPage**
```typescript
export class ProductDetailPage {
  constructor(private page: Page) {}

  async joinChatRoom() {
    await this.page.click('button:has-text("ì±„íŒ…í•˜ê¸°")');
    await this.page.waitForSelector('.chat-room');
  }

  async verifyParticipants(expectedCount: number) {
    const participants = await this.page.$$('.participant-avatar');
    expect(participants).toHaveLength(expectedCount);
  }
}
```

#### 8.1.3 Test Fixtures

```typescript
// fixtures/auth.ts
export const test = base.extend({
  authenticatedPage: async ({ page }, use) => {
    // ë¡œê·¸ì¸ ìƒíƒœë¡œ í˜ì´ì§€ ì œê³µ
    await page.goto('/login');
    await page.fill('[name="email"]', 'test@example.com');
    await page.fill('[name="password"]', 'password123');
    await page.click('button[type="submit"]');
    await page.waitForURL('/');

    await use(page);
  }
});
```

#### 8.1.4 ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

**ì „ì²´ êµ¬ë§¤ í”Œë¡œìš° í…ŒìŠ¤íŠ¸**
```typescript
test.describe('ê³µë™êµ¬ë§¤ ì „ì²´ í”Œë¡œìš°', () => {
  test('íŒë§¤ìê°€ ìƒí’ˆ ë“±ë¡í•˜ê³  êµ¬ë§¤ìê°€ ì°¸ì—¬í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤', async ({ browser }) => {
    // 1. íŒë§¤ì ì»¨í…ìŠ¤íŠ¸
    const sellerContext = await browser.newContext();
    const sellerPage = await sellerContext.newPage();

    // íŒë§¤ì ë¡œê·¸ì¸
    await new LoginPage(sellerPage).login('seller@test.com', 'password');

    // ìƒí’ˆ ë“±ë¡
    const productPage = new ProductRegisterPage(sellerPage);
    await productPage.createProduct({
      title: 'ë”¸ê¸° ê³µë™êµ¬ë§¤',
      price: 15000,
      maxParticipants: 5
    });

    // 2. êµ¬ë§¤ì ì»¨í…ìŠ¤íŠ¸
    const buyerContext = await browser.newContext();
    const buyerPage = await buyerContext.newPage();

    // êµ¬ë§¤ì ë¡œê·¸ì¸
    await new LoginPage(buyerPage).login('buyer@test.com', 'password');

    // ìƒí’ˆ ê²€ìƒ‰ ë° ì±„íŒ…ë°© ì…ì¥
    const detailPage = new ProductDetailPage(buyerPage);
    await detailPage.joinChatRoom();

    // 3. ì‹¤ì‹œê°„ ì±„íŒ… í…ŒìŠ¤íŠ¸
    const chatPage = new ChatRoomPage(buyerPage);
    await chatPage.sendMessage('ì°¸ì—¬í•˜ê³  ì‹¶ì–´ìš”!');

    // íŒë§¤ì í˜ì´ì§€ì—ì„œ ë©”ì‹œì§€ í™•ì¸
    await sellerPage.bringToFront();
    await expect(sellerPage.locator('text=ì°¸ì—¬í•˜ê³  ì‹¶ì–´ìš”!')).toBeVisible();

    // íŒë§¤ìê°€ êµ¬ë§¤ì í™•ì •
    await chatPage.confirmBuyer();

    // êµ¬ë§¤ì í˜ì´ì§€ì—ì„œ í™•ì • ìƒíƒœ í™•ì¸
    await buyerPage.bringToFront();
    await expect(buyerPage.locator('text=êµ¬ë§¤ í™•ì •')).toBeVisible();
  });
});
```

### 8.2 CI/CD í†µí•©

**GitHub Actions Workflow**
```yaml
name: E2E Tests

on:
  pull_request:
    branches: [dev, main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'

      - name: Install dependencies
        run: npm ci

      - name: Install Playwright
        run: npx playwright install --with-deps

      - name: Run E2E tests
        run: npm run test:e2e

      - name: Upload test results
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: playwright-report
          path: playwright-report/
```

---

## 9. íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë° ì„±ê³¼

### 9.1 ì£¼ìš” íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì‚¬ë¡€

#### 9.1.1 ì¸ì¦ ê´€ë ¨

| ë¬¸ì œ | ì›ì¸ | í•´ê²° | ì»¤ë°‹ |
|------|------|------|------|
| OAuth userId undefined | JWT í† í° íŒŒì‹± ì‹¤íŒ¨ | jwt-decodeë¡œ userId ì¶”ì¶œ | `18d42e1` |
| ë¡œê·¸ì¸ í›„ ì¸ì¦ ìƒíƒœ ë¯¸ë°˜ì˜ | ë¹„ë™ê¸° ìƒíƒœ ì—…ë°ì´íŠ¸ íƒ€ì´ë° | authStore ì¦‰ì‹œ ì—…ë°ì´íŠ¸ | `b58a9ec` |
| í† í°ì„ í—¤ë”/body ëª¨ë‘ì—ì„œ ì°¾ê¸° | ë°±ì—”ë“œ ì‘ë‹µ í˜•ì‹ ë³€ê²½ | ì¸í„°ì…‰í„°ì—ì„œ ì–‘ìª½ ì²´í¬ | `13a6a9e` |

#### 9.1.2 WebSocket ì±„íŒ…

| ë¬¸ì œ | ì›ì¸ | í•´ê²° | ì»¤ë°‹ |
|------|------|------|------|
| CORS ì—ëŸ¬ | ì§ì ‘ ì—°ê²° ì‹œ CORS ì •ì±… | Vite proxy ì‚¬ìš© | `2186eae` |
| êµ¬ë… íƒ€ì´ë° | ì—°ê²° ì „ êµ¬ë… ì‹œë„ | onConnect ì½œë°±ì—ì„œ êµ¬ë… | `e5c5133` |
| useEffect ì¤‘ë³µ êµ¬ë… | ì˜ì¡´ì„± ë°°ì—´ ì˜¤ë¥˜ | ì˜ì¡´ì„± ë°°ì—´ ìˆ˜ì • | `91fdc02` |
| ë©”ì‹œì§€ íƒ€ì… ë¶ˆì¼ì¹˜ | í”„ë¡ íŠ¸/ë°±ì—”ë“œ íƒ€ì… ìƒì´ | íƒ€ì… ë³€í™˜ ë¡œì§ ì¶”ê°€ | `ef5fdc1` |
| ì‹œìŠ¤í…œ ë©”ì‹œì§€ userId | ë°±ì—”ë“œì—ì„œ userId í¬í•¨ | ì •ê·œì‹ìœ¼ë¡œ ë‹‰ë„¤ì„ ì¹˜í™˜ | `76011d1` |
| ì¤‘ë³µ ì…ì¥ ìš”ì²­ | joinChatRoom ê³¼ìš© | fetchChatRoomìœ¼ë¡œ ë¶„ë¦¬ | `aad818d` |

#### 9.1.3 API í†µí•©

| ë¬¸ì œ | ì›ì¸ | í•´ê²° | ì»¤ë°‹ |
|------|------|------|------|
| X-User-Id í—¤ë” ëˆ„ë½ | ë°±ì—”ë“œ ìš”êµ¬ì‚¬í•­ ë³€ê²½ | ì¸í„°ì…‰í„°ì—ì„œ ìë™ ì¶”ê°€ | `99cb63e` |
| ì¢‹ì•„ìš” API êµ¬ì¡° ë³€ê²½ | MarketListResponse í˜•ì‹ | ì‘ë‹µ êµ¬ì¡° ìˆ˜ì • | `05f4ed1` |
| 404 ì—ëŸ¬ë¥¼ ì •ìƒ ì¼€ì´ìŠ¤ë¡œ | ë¹ˆ ëª©ë¡ë„ 404 ë°˜í™˜ | catchì—ì„œ ë¹ˆ ë°°ì—´ ì²˜ë¦¬ | `f039abc` |
| ì»¤ë®¤ë‹ˆí‹° ì´ë¯¸ì§€ ì—…ë¡œë“œ | ì—”ë“œí¬ì¸íŠ¸ ë³€ê²½ | API URL ìˆ˜ì • | `84b4394` |
| ì¹´í…Œê³ ë¦¬ JSON ë¡œë”© ì˜¤ë¥˜ | íŒŒì¼ ê²½ë¡œ ì˜¤ë¥˜ | public/ ê²½ë¡œ ìˆ˜ì • | `3920915` |

#### 9.1.4 UI/UX

| ë¬¸ì œ | ì›ì¸ | í•´ê²° | ì»¤ë°‹ |
|------|------|------|------|
| ëª¨ë‹¬ ìƒë‹¨ ì˜ë¦¼ | CSS height ê³„ì‚° ì˜¤ë¥˜ | flexbox ë ˆì´ì•„ì›ƒ ìˆ˜ì • | `a949781` |
| ì°¸ì—¬ì ë‹‰ë„¤ì„ null | ë°±ì—”ë“œ ë°ì´í„° null | fallback ì²˜ë¦¬ | `bd45425` |
| ì°¸ì—¬ì í˜„í™© í‘œì‹œ í˜•ì‹ | "(2/2ê°œ)" í˜•ì‹ | "(2/2)"ë¡œ ë³€ê²½ | `56e4e79` |
| ëª¨ì§‘ ì¸ì› ê°€ë“ ì°¬ ê²½ìš° | ë²„íŠ¼ í™œì„±í™” ìƒíƒœ | ì¡°ê±´ë¶€ ë¹„í™œì„±í™” | `633dad1` |

#### 9.1.5 ë°±ì—”ë“œ ì´ìŠˆ ë°œê²¬

| ì´ìŠˆ | ì›ì¸ | ì „ë‹¬ ë‚´ìš© | ê²°ê³¼ |
|------|------|----------|------|
| 500 ì—ëŸ¬ (ChatRoom) | `getCreatorUserIdById()` ë°˜í™˜ íƒ€ì… ì˜¤ë¥˜ | @Query ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€ ê¶Œì¥ | ë°±ì—”ë“œ ìˆ˜ì • |
| ì°¸ì—¬ì í”„ë¡œí•„ null | ë°±ì—”ë“œì—ì„œ null ë°˜í™˜ | í”„ë¡ íŠ¸ì—ì„œ ë°©ì–´ ì½”ë“œ ì¶”ê°€ | í”„ë¡ íŠ¸ ëŒ€ì‘ |

### 9.2 ì„±ê³¼ ë° í†µê³„

#### 9.2.1 ê°œë°œ ìƒì‚°ì„±

- **ì´ ì»¤ë°‹ ìˆ˜**: 100+ ì»¤ë°‹
- **Pull Request**: 80+ PR
- **ì½”ë“œ ë¦¬ë·°**: íŒ€ì› ê°„ ìƒí˜¸ ë¦¬ë·°
- **ê°œë°œ ê¸°ê°„**: 6ì£¼

#### 9.2.2 ì½”ë“œ í’ˆì§ˆ

- **TypeScript ì ìš©ë¥ **: 100%
- **ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„±**: 30+ ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
- **íƒ€ì… ì•ˆì •ì„±**: ì—„ê²©í•œ íƒ€ì… ì²´í¬
- **ì—ëŸ¬ í•¸ë“¤ë§**: ì¸í„°ì…‰í„° ê¸°ë°˜ ì¤‘ì•™ ì²˜ë¦¬

#### 9.2.3 ê¸°ëŠ¥ ì™„ì„±ë„

| ê¸°ëŠ¥ | ì™„ì„±ë„ | ë¹„ê³  |
|------|--------|------|
| ì¸ì¦ (ì´ë©”ì¼/OAuth) | 100% | JWT ê¸°ë°˜ ì™„ì „ êµ¬í˜„ |
| ê³µë™êµ¬ë§¤ CRUD | 100% | ë“±ë¡/ìˆ˜ì •/ì‚­ì œ/ì¡°íšŒ |
| ì»¤ë®¤ë‹ˆí‹° CRUD | 100% | ëŒ“ê¸€/ëŒ€ëŒ“ê¸€ í¬í•¨ |
| ì‹¤ì‹œê°„ ì±„íŒ… | 95% | WebSocket ê¸°ë°˜ êµ¬í˜„ |
| ë§ˆì´í˜ì´ì§€ | 100% | í”„ë¡œí•„/êµ¬ë§¤ë‚´ì—­/ì°œ |
| ìœ„ì¹˜ ì„œë¹„ìŠ¤ | 100% | Google Maps ì—°ë™ |
| ë°˜ì‘í˜• UI | 100% | ëª¨ë°”ì¼/íƒœë¸”ë¦¿/PC |

#### 9.2.4 ì„±ëŠ¥ ìµœì í™”

- **ì´ˆê¸° ë¡œë”© ì‹œê°„**: < 2ì´ˆ
- **ë²ˆë“¤ í¬ê¸°**: Vite ìµœì í™”ë¡œ ìµœì†Œí™”
- **Lazy Loading**: ì´ë¯¸ì§€ ë° ë¼ìš°íŠ¸
- **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**: ë¼ìš°íŠ¸ë³„ ì²­í¬

---

## 10. í–¥í›„ ê°œì„  ë°©í–¥

### 10.1 ë‹¨ê¸° ê°œì„  (1~2ì£¼)

#### 10.1.1 E2E í…ŒìŠ¤íŠ¸ êµ¬ì¶•
- [ ] Playwright ì„¤ì¹˜ ë° ì„¤ì •
- [ ] Critical Path í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] CI/CD í†µí•©

#### 10.1.2 ì„±ëŠ¥ ìµœì í™”
- [ ] React.memoë¡œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
- [ ] useMemo, useCallback í™œìš©
- [ ] ì´ë¯¸ì§€ WebP í¬ë§· ì „í™˜
- [ ] CDN ì ìš© ê³ ë ¤

#### 10.1.3 ì ‘ê·¼ì„± ê°œì„ 
- [ ] ARIA ë ˆì´ë¸” ì¶”ê°€
- [ ] í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ê°œì„ 
- [ ] ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›

### 10.2 ì¤‘ê¸° ê°œì„  (1~2ê°œì›”)

#### 10.2.1 PWA ì „í™˜
- [ ] Service Worker êµ¬í˜„
- [ ] ì˜¤í”„ë¼ì¸ ì§€ì›
- [ ] í‘¸ì‹œ ì•Œë¦¼
- [ ] ì•± ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸

#### 10.2.2 ì‹¤ì‹œê°„ ì•Œë¦¼
- [ ] WebSocket ì•Œë¦¼ êµ¬ë…
- [ ] ë¸Œë¼ìš°ì € ì•Œë¦¼ API
- [ ] ì½ì§€ ì•Šì€ ë©”ì‹œì§€ ë°°ì§€

#### 10.2.3 ê³ ê¸‰ ê²€ìƒ‰
- [ ] í•„í„° ì¡°í•© (ê°€ê²©, ê±°ë¦¬, ë§ˆê°ì¼)
- [ ] ê²€ìƒ‰ì–´ ìë™ì™„ì„±
- [ ] ê²€ìƒ‰ íˆìŠ¤í† ë¦¬

### 10.3 ì¥ê¸° ê°œì„  (3ê°œì›”+)

#### 10.3.1 AI ê¸°ëŠ¥
- [ ] ìƒí’ˆ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜
- [ ] ì±—ë´‡ ê³ ê° ì§€ì›
- [ ] ì´ë¯¸ì§€ ì¸ì‹ (ìƒí’ˆ ì¹´í…Œê³ ë¦¬ ìë™ ë¶„ë¥˜)

#### 10.3.2 ê²°ì œ ì‹œìŠ¤í…œ
- [ ] PGì‚¬ ì—°ë™ (í† ìŠ¤í˜ì´ë¨¼ì¸ , ì¹´ì¹´ì˜¤í˜ì´)
- [ ] ì—ìŠ¤í¬ë¡œ ì„œë¹„ìŠ¤
- [ ] ì •ì‚° ì‹œìŠ¤í…œ

#### 10.3.3 ë°ì´í„° ë¶„ì„
- [ ] Google Analytics ì—°ë™
- [ ] ì‚¬ìš©ì í–‰ë™ ì¶”ì 
- [ ] A/B í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬

---

## ë¶€ë¡: ì°¸ê³  ìë£Œ

### A. Git ì»¤ë°‹ ì»¨ë²¤ì…˜

```
<type>: <subject>

<body>

<footer>
```

**Type**
- `feat`: ìƒˆë¡œìš´ ê¸°ëŠ¥
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `docs`: ë¬¸ì„œ ë³€ê²½
- `refactor`: ì½”ë“œ ë¦¬íŒ©í† ë§
- `style`: ì½”ë“œ í¬ë§·íŒ…
- `test`: í…ŒìŠ¤íŠ¸ ì½”ë“œ
- `chore`: ë¹Œë“œ/ì„¤ì • ë³€ê²½
- `debug`: ë””ë²„ê¹… ë¡œê·¸

### B. ì£¼ìš” ë¬¸ì„œ

- **README.md** - í”„ë¡œì íŠ¸ ì „ì²´ ê°€ì´ë“œ
- **CHAT_SYSTEM_TODO.md** - ì±„íŒ… ì‹œìŠ¤í…œ ê°€ì´ë“œ
- **E2E-Testing-Guide.md** - Playwright í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ
- **websocket-spec-analysis.md** - WebSocket ìŠ¤í™ ë¶„ì„
- **BACKEND_HANDOFF.md** - ë°±ì—”ë“œ í•¸ë“œì˜¤í”„ ë¬¸ì„œ

### C. ê¸°ìˆ  ìŠ¤íƒ ë²„ì „

| íŒ¨í‚¤ì§€ | ë²„ì „ |
|--------|------|
| React | 19.1.1 |
| TypeScript | 5.8.3 |
| Vite | 7.1.7 |
| Zustand | 5.0.8 |
| Axios | 1.12.2 |
| React Router | 7.9.1 |
| @stomp/stompjs | 7.2.1 |
| @vis.gl/react-google-maps | 1.5.5 |

### D. API ì—”ë“œí¬ì¸íŠ¸

**API Gateway**: `http://localhost:8080`

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì—”ë“œí¬ì¸íŠ¸ |
|--------|------|-----------|
| User Service | 8083 | `/api/v1/auth`, `/api/v1/users` |
| Market Service | 8082 | `/api/v1/markets` |
| Community Service | 8085 | `/api/v1/community` |
| Chat Service | 8086 | `/api/v1/chat`, `/ws` |
| Division Service | 8081 | `/api/v1/divisions` |

### E. í”„ë¡œì íŠ¸ ë§í¬

- **GitHub Repository**: [https://github.com/Donghaeng-Team/frontend](https://github.com/Donghaeng-Team/frontend)
- **Figma Design**: (íŒ€ ë‚´ë¶€ ë§í¬)
- **Notion Workspace**: (íŒ€ ë‚´ë¶€ ë§í¬)

---

## ë§ˆë¬´ë¦¬

**í•¨ê»˜ ì‚¬ìš” (ByTogether)** í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì€ React, TypeScript, Viteë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìµœì‹  ì›¹ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

**í•µì‹¬ ì„±ê³¼**
- âœ… 30+ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶•
- âœ… TypeScriptë¡œ 100% íƒ€ì… ì•ˆì •ì„± í™•ë³´
- âœ… Zustand ê¸°ë°˜ íš¨ìœ¨ì ì¸ ìƒíƒœ ê´€ë¦¬
- âœ… WebSocket ì‹¤ì‹œê°„ ì±„íŒ… êµ¬í˜„
- âœ… OAuth 2.0 ì†Œì…œ ë¡œê·¸ì¸ í†µí•©
- âœ… Google Maps ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤ ì—°ë™
- âœ… ì™„ë²½í•œ ë°˜ì‘í˜• UI/UX (ëª¨ë°”ì¼/íƒœë¸”ë¦¿/PC)
- âœ… 100+ ì»¤ë°‹, 80+ PRì„ í†µí•œ ì²´ê³„ì ì¸ ê°œë°œ

**ë°°ìš´ ì **
- React 19ì˜ ìµœì‹  ê¸°ëŠ¥ í™œìš©
- WebSocket/STOMP ì‹¤ì‹œê°„ í†µì‹  êµ¬í˜„
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì™€ì˜ í†µí•©
- í”„ë¡ íŠ¸ì—”ë“œ/ë°±ì—”ë“œ í˜‘ì—… í”„ë¡œì„¸ìŠ¤
- ì²´ê³„ì ì¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë° ë¬¸ì„œí™”

**í–¥í›„ ë°©í–¥**
- E2E í…ŒìŠ¤íŠ¸ ìë™í™”ë¡œ í’ˆì§ˆ í–¥ìƒ
- PWA ì „í™˜ìœ¼ë¡œ ì•± ê²½í—˜ ì œê³µ
- AI ê¸°ëŠ¥ ì¶”ê°€ë¡œ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- ì§€ì†ì ì¸ ì„±ëŠ¥ ìµœì í™”

---

**ë°œí‘œ ì¤€ë¹„ ì™„ë£Œ**
ì´ ë¬¸ì„œëŠ” ë¶€íŠ¸ìº í”„ ìµœì¢… ë°œí‘œë¥¼ ìœ„í•œ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì „ ê³¼ì •ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.
